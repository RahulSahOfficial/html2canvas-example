<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>test</title>

  <link rel="stylesheet" href="style.css">

  <script src="html2canvas.min.js"></script>

</head>

<body>

<div id="main">
<div id="screenshot" style="width:540px; background-color:#121212; display:flex; cursor:pointer;" onclick="makeScreenshot();">
  <div style="width:360px;">
      <img class="img-responsive" style="width:100%;" src="images/poster.jpg">
  </div>
  <div style="width:180px; text-align:center;">
      <div style="height:468px;">
          <div style="padding-top:18px;">
            <div><span class="rating-text rating-girl">5,4</span></div>
            <div class="rating-type">женский&nbsp;рейтинг</div>
          </div>
          <div style="margin-top:20px;">
            <div><span class="rating-text rating-boy">7,6</span></div>
            <div class="rating-type">мужской&nbsp;рейтинг</div>
          </div>
          <div style="margin-top:20px;">
            <div><span class="rating-text rating-expert">9,8</span></div>
            <div class="rating-type">мнение&nbsp;экспертов</div>
          </div>
      </div>
      <div class="verdict some" style="height:72px; display:flex; align-items:center; justify-content:center;">
        можно смотреть
      </div>
  </div>
</div>
</div>

<script>

    function makeScreenshot() {
        html2canvas(document.getElementById("screenshot"), {scale: 2}).then(canvas => {
            var main = document.getElementById("main");
            while (main.firstChild) {
              main.removeChild(main.firstChild);
            }

            // for Firefox
            main.appendChild(canvas);

            // for Safari
            // canvas.toBlob(function(blob) {
            //   var newImg = document.createElement('img'),
            //       url = URL.createObjectURL(blob);
              
            //   newImg.onload = function() {
            //     URL.revokeObjectURL(url);
            //   };

            //   newImg.src = url;
            //   newImg.title = "some title";
            //   newImg.alt = "some alternative text";
            //   main.appendChild(newImg);
            // });
        });
    }
</script>

</body>

</html>
